\documentclass[12pt]{article}
\usepackage{graphicx} % for inserting images
\usepackage[utf8]{inputenc} % for good practice
\usepackage{amsmath} % for equations
\usepackage{amsfonts}
\usepackage{hyperref}
\usepackage[ruled,linesnumbered]{algorithm2e}
\usepackage{setspace}
\usepackage{siunitx}
\sisetup{output-exponent-marker=\ensuremath{\mathrm{e}}}

\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\abs}[1]{\lvert#1\rvert}
\newcommand{\Lagr}{\mathcal{L}}

\begin{document}
    \section*{Projection formulations}
    
    There are two different types of projection, the first one is necessary for admissibility and regards the projection of points in the \textit{feasible region}. This problem can be formulated as following:
    \begin{equation}\label{eq:9}
	    \begin{aligned}
	    \min_{\beta_{proj}} \quad &\frac{1}{2}\norm{\beta - \beta_{proj}}^2\\ 
		&With\;the\;constraints\qquad
        \begin{cases}
            \sum_i \beta_{proj}^i = 0 \\
            \;\beta_{proj}^i\in[-C,\;C] 
        \end{cases}
        \end{aligned}
	\end{equation}
    A further not strictly necessary projection (as stated in [\ref{bib:01}]) regards the one on direction in the \textit{tangent cone}. It is important to \textbf{highlight} that this projection is computed before \eqref{eq:9}.\\This projection is useful to maintain coherence between the directions among the iterations. This ensures that at each step the previous $d$ is valid and coherent with the current $\beta$ value. Even further, this helps avoiding zig-zagging behaviours and may help reaching a better convergence.
    \begin{equation}\label{eq:11}
	    \begin{aligned}
	    \min_{s} \quad &\frac{1}{2}\norm{d - s}^2\\
	    &With\;the\;constraints\qquad
        \begin{cases}
            \;(\beta_i -s_i)\in[-C,\;C]\\
        \end{cases}
        \end{aligned}
	\end{equation}
	
	First of all no linear constraints are imposed on \eqref{eq:11} since the objective of this projection is simply to revise the deflected direction to respect the box constraints defining the tangent cone. This problem's solution does not give us the final $\beta$ for the iteration, which will be obtained later by \eqref{eq:9} ensuring the missing constraint. (Is it correct? Is it safe to ignore this in the first projection since it is ensured in the second one?).
	
	One last fact to remark is that applying only the projection on the direction is not sufficient to bring admissible $\beta$. The simple reason stands in the fact that finding a correct direction is not enough: a following incorrect stepsize may lead us to a $\beta$ not part of the \textit{feasible region}.
	
	\pagebreak
	
	So, wrapping up, the abstract procedure will be: 
	\begin{algorithm} \label{alg:1}
        \small
        \While{optima not found}{
	        $v \longleftarrow f(\beta)$ \\
	        $g \longleftarrow \nabla f(\beta)$ \\
	        $d \longleftarrow \gamma g + (1 - \gamma)dprev$ \\
	        $\texttt{[ optionally project $d$ as in \eqref{eq:11} ]}$ \\
	        $stepsize \longleftarrow \frac{\psi(v-f_{ref}+\delta)}{\norm{d}^2}$ \\
	        $\beta \longleftarrow \beta - stepsize\cdot d$ \\
	        \texttt{project $\beta$ as in \eqref{eq:9}} \\
	    }
		\caption{Compute $\beta$}
    \end{algorithm} 
    
    
        \section*{References}
        \begin{enumerate}
            \item \href{http://pages.di.unipi.it/frangio/papers/SubgradComp.pdf}{Convergence Analysis Of Deflected Conditional
Approximate Subgradient Methods - Giacomo Dâ€™Antonio and Antonio Frangioni} \label{bib:01}
        \end{enumerate}
\end{document}